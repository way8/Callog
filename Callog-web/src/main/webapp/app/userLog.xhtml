<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
>

<f:metadata>
    <f:viewParam name="removeId" value="#{newCallBean.removeId}"/>
</f:metadata>

<h:head>

    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <title>Callog</title>
    </f:facet>

    <f:facet name="middle">
        <h:outputStylesheet name="bootstrap/css/bootstrap.css"/>
        <h:outputStylesheet name="css/dashboard.css"/>
        <h:outputStylesheet library="css" name="table-style.css"/>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"/>

        <h:outputScript name="bootstrap/js/bootstrap.js"/>
    </f:facet>

    <f:facet name="last">

    </f:facet>
</h:head>
<h:body>

    <ui:include src="navigation.xhtml"/>
    <div class="page-container">
        <div class="content-wrap">
            <br></br>

            <div class="container" align="center">
                <br></br>
                <fieldset>
                    <h:dataTable value="#{calls.userCallList}" var="c"
                                 styleClass="order-table"
                                 headerClass="order-table-header"
                                 rowClasses="order-table-odd-row,order-table-even-row"
                    >

                        <h:column>
                            <f:facet name="header">Callsign</f:facet>
                            #{c.call_sign}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Name</f:facet>
                            #{c.operator_name}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Date</f:facet>
                            <h:outputText value="#{c.date}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </h:column>

                        <h:column>
                            <f:facet name="header">Band</f:facet>
                            #{c.band}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Mode</f:facet>
                            #{c.mode}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Rep. rcv.</f:facet>
                            #{c.raport_received}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Rep. send</f:facet>
                            #{c.raport_send}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Edit</f:facet>
                            <h:form>
                                <h:commandButton value="Update" styleClass="btn btn-outline-dark btn-sm"
                                                 action="#{newCallBean.updateId(c.id)}"/>
                            </h:form>
                        </h:column>

                        <h:column>
                            <h:link value="Del" styleClass="btn btn-outline-danger btn-sm"
                                    outcome="userLog.xhtml?removeId=#{c.id}"/>
                        </h:column>
                    </h:dataTable>
                </fieldset>

            </div>
        </div>
        <ui:include src="../footer.xhtml"/>
    </div>
</h:body>
</html>